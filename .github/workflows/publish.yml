# .github/workflows/publish.yml

name: ğŸ“¦ Publish to npm

on:
   push:
      tags:
         - 'v*' # Example: v1.2.3 â†’ trigger the action

jobs:
   publish:
      name: ğŸš€ Publish
      runs-on: ubuntu-latest

      steps:
         - name: â¬‡ï¸ Checkout code
           uses: actions/checkout@v3

         - name: ğŸ”§ Setup Node.js
           uses: actions/setup-node@v3
           with:
              node-version: '20' # Puoi usare anche 18 o altra LTS
              registry-url: 'https://registry.npmjs.org/'

         - name: ğŸ“¥ Install dependencies
           run: npm install

         - name: ğŸ› ï¸ Build project
           run: npm run build

         - name: ğŸš€ Publish to npm
           run: npm publish
           env:
              NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}
