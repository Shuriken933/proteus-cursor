export default class ProteusCursor{constructor(){this.testMode=false;this.shape="default";this.shape_size="";this.shape_color="";this.hasShadow=true;this.shadow_delay="0.3s";this.shadow_size="20px";this.shadow_color="#ffffff";this.background_color="#ffffff";this.background_opacity=.5;this.text="";this.text_color="";this.isMagnetic=false}setShape(shape){this.shape=shape;switch(this.shape){case"default":break;case"circle":this.setShape__circle(shape);break;case"dot":break}printShape(this.shape)}setShape__circle(shape){this.delay=8;this._x=0;this._y=0;this.endX=window.innerWidth/2;this.endY=window.innerHeight/2;this.cursorVisible=true;this.cursorEnlarged=false;this.$shape=document.querySelector(".proteus-cursor-shape");this.$shadow=document.querySelector(".proteus-cursor-shadow");document.querySelector("body").classList.add("proteus-is-a-circle");document.body.style.cursor="none";this.shape_size=this.$shape.offsetWidth;this.shadow_size=this.$shadow.offsetWidth;this.shape__circle__interactions();this.shape__circle__animateShadow();console.log("setShape_circle executed")}shape__circle__interactions(){document.querySelectorAll("a").forEach(el=>{el.addEventListener("mouseover",()=>{this.cursorEnlarged=true;this.toggleCursorSize()});el.addEventListener("mouseout",()=>{this.cursorEnlarged=false;this.toggleCursorSize()})});document.querySelectorAll("button").forEach(el=>{el.addEventListener("mouseover",()=>{this.cursorEnlarged=true;this.toggleCursorSize()});el.addEventListener("mouseout",()=>{this.cursorEnlarged=false;this.toggleCursorSize()})});document.addEventListener("mousemove",e=>{this.cursorVisible=true;this.toggleCursorVisibility();this.endX=e.pageX;this.endY=e.pageY;this.$shape.style.top=this.endY+"px";this.$shape.style.left=this.endX+"px"})}shape__circle__animateShadow(){this._x+=(this.endX-this._x)/this.delay;this._y+=(this.endY-this._y)/this.delay;this.$shadow.style.top=this._y+"px";this.$shadow.style.left=this._x+"px";requestAnimationFrame(this.shape__circle__animateShadow.bind(this))}toggleCursorSize(){if(this.cursorEnlarged){this.$shape.style.transform="translate(-50%, -50%) scale(0.75)";this.$shadow.style.transform="translate(-50%, -50%) scale(1.5)"}else{this.$shape.style.transform="translate(-50%, -50%) scale(1)";this.$shadow.style.transform="translate(-50%, -50%) scale(1)"}}toggleCursorVisibility(){if(this.cursorVisible){this.$shape.style.opacity=1;this.$shadow.style.opacity=1}else{this.$shape.style.opacity=0;this.$shadow.style.opacity=0}}enableTestMode(){this.testMode=true;this.enableTestMode__generateHTML();const panel=document.querySelector("#proteus-panel-test");const button=document.querySelector("#proteus-button-test");button.addEventListener("click",()=>{panel.classList.toggle("open")});const buttonTypeShape_dot=document.querySelector("#button-setShape-dot");const buttonTypeShape_circle=document.querySelector("#button-setShape-circle");buttonTypeShape_dot.addEventListener("click",()=>{this.setShape("dot")});buttonTypeShape_circle.addEventListener("click",()=>{this.setShape("circle")});button.classList.add("active")}enableTestMode__generateHTML(){const container=document.querySelector("body");const buttonHTML=`
         <button id="proteus-button-test">
            <img src="icons/icon-cursor.svg" alt="icon" width="35" height="35" />
         </button>
      `;container.insertAdjacentHTML("beforeend",buttonHTML);const panelHTML=`
         <div id="proteus-panel-test">
            <p>Type cursor</p>
            <ul>
               <li><button id="button-setShape-circle">circle</button></li>
               <li><button id="button-setShape-dot">dot</button></li>
               <li><button></button></li>
               <li><button></button></li>
            </ul>
            
            <p>Modifiers</p>
            <ul>
               <li><button>magnetic</button></li>
               <li><button>parallax hover</button></li>
               <li><button>text</button></li>
            </ul>
         </div>
      `;container.insertAdjacentHTML("beforeend",panelHTML)}disableTestMode(){this.testMode=false;document.querySelector("#proteus-button-test").classList.remove("active")}}function showButtonTest(){document.querySelector("#proteus-button-test").classList.add("active")}function hideButtonTest(){document.querySelector("#proteus-button-test").classList.remove("active")}function printShape(shape){console.log("This is the type: ",shape)}